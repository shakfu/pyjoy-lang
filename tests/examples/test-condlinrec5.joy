(* Trace ack step by step *)
DEFINE ack ==
    [ [ [0 =] [pop 1 +] ]
      [ [swap 0 =] [popd 1 - 1 swap] [] ]
      [ [dup rollup [1 -] dip] [swap 1 - ack] ] ]
    condlinrec .

(* ack(0, n) = n + 1 *)
0 0 ack put.
0 1 ack put.
0 2 ack put.
0 3 ack putln.

(* ack(1, n) = n + 2 *)
1 0 ack put.
1 1 ack put.
1 2 ack put.
1 3 ack.
